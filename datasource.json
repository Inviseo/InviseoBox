{
  "instruments": [
    {
      "id": "1",
      "name": "Compteur 1",
      "communication": {
        "protocol": "Modbus",
        "mode": "RTU",
        "type": "RS-485",
        "configuration": {
          "serial_port": "/dev/serial/by-id/usb-Silicon_Labs_CP2102_USB_to_UART_Bridge_Controller_0001-if00-port0",
          "stopbits": 1,
          "bytesize": 8,
          "parity": "N",
          "baudrate": 9600
        }
      },
      "measurements": [
        {
          "id": "1",
          "configuration": {
            "parameters": {
              "register": "0x04",
              "address": 12,
              "slave": 7,
              "count": 2,
              "byte_order": "3-2-1-0",
              "value_class": "FLOAT32"
            },
            "response_format": ["min", "max", "avg"]
          }
        },
        {
          "id": "2",
          "configuration": {
            "parameters": {
              "register": "0x04",
              "address": 72,
              "slave": 1,
              "count": 2,
              "byte_order": "3-2-1-0",
              "value_class": "FLOAT32"
            },
            "response_format": ["diff"]
          }
        }
      ]
    },
    {
      "id": "2",
      "name": "Compteur 2",
      "communication": {
        "protocol": "WebService",
        "configuration": {
          "url": "http://192.168.3.16/"
        }
      },
      "measurements": [
        {
          "id": "3",
          "configuration": {
            "parameters": {
              "key": "temp"
            },
            "response_format": ["min", "max", "avg"]
          }
        },
        {
          "id": "4",
          "configuration": {
            "parameters": {
              "key": "hum"
            },
            "response_format": ["min", "max", "avg"]
          }
        },
        {
          "id": "5",
          "configuration": {
            "parameters": {
              "key": "CO2"
            },
            "response_format": ["min", "max", "avg"]
          }
        }
      ]
    }
  ]
}
