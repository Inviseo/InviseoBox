{
  "instruments": [
    {
      "id": "1",
      "name": "Compteur 1",
      "protocol": "Modbus",
      "mode": "RTU",
      "type": "RS-485",
      "configuration": {
        "serial_port": "/dev/serial/by-id/usb-Silicon_Labs_CP2102_USB_to_UART_Bridge_Controller_0001-if00-port0",
        "stopbits": 1,
        "bytesize": 8,
        "parity": "N",
        "baudrate": 9600
      },
      "measurements": [
        {
          "puissance": {
            "parameters": {
              "register": "0x04",
              "address": 12,
              "slave": 7,
              "count": 2,
              "byte_order": "3-2-1-0",
              "value_class": "FLOAT32"
            },
            "response_format": ["min", "max", "avg"]
          }
        },
        {
          "consommation": {
            "parameters": {
              "register": "0x04",
              "address": 72,
              "slave": 1,
              "count": 2,
              "byte_order": "3-2-1-0",
              "value_class": "FLOAT32"
            },
            "response_format": ["diff"]
          }
        }
      ]
    },
    {
      "id": "2",
      "protocol": "WebService",
      "configuration": {
        "url": "http://192.168.3.16/"
      },
      "measurements": [
        {
          "temp": {
            "parameters": {
              "key": "temp"
            },
            "response_format": ["min", "max", "avg"]
          }
        },
        {
          "hum": {
            "response_format": ["min", "max", "avg"]
          },
          "CO2": {
            "response_format": ["min", "max", "avg"]
          }
        }
      ]
    }
  ]
}
